<Window x:Class="GGs.Desktop.Views.Analytics.AuditSearchView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:GGs.Desktop.ViewModels.Analytics"
        mc:Ignorable="d"
        Title="Audit Search" Height="700" Width="1000">
    <Window.DataContext>
        <vm:AuditSearchViewModel />
    </Window.DataContext>
    <DockPanel Margin="12">
        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,10" VerticalAlignment="Top" HorizontalAlignment="Left">
            <TextBlock Text="DeviceId:" VerticalAlignment="Center"/>
            <TextBox Width="140" Text="{Binding DeviceId, UpdateSourceTrigger=PropertyChanged}"/>
            <TextBlock Text="UserId:" VerticalAlignment="Center"/>
            <TextBox Width="140" Text="{Binding UserId, UpdateSourceTrigger=PropertyChanged}"/>
            <TextBlock Text="TweakId:" VerticalAlignment="Center"/>
            <TextBox Width="220" Text="{Binding TweakIdText, UpdateSourceTrigger=PropertyChanged}"/>
            <TextBlock Text="From:" VerticalAlignment="Center"/>
            <DatePicker SelectedDate="{Binding FromDate}"/>
            <TextBlock Text="To:" VerticalAlignment="Center"/>
            <DatePicker SelectedDate="{Binding ToDate}"/>
            <CheckBox Content="Success Only" IsChecked="{Binding SuccessOnly}"/>
            <Button Content="Search" Command="{Binding SearchCommand}"/>
        </StackPanel>
        <DataGrid ItemsSource="{Binding Results}" AutoGenerateColumns="False" IsReadOnly="True">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Applied (UTC)" Binding="{Binding AppliedUtc}" Width="150"/>
                <DataGridTextColumn Header="Device" Binding="{Binding DeviceId}" Width="*"/>
                <DataGridTextColumn Header="User" Binding="{Binding UserId}" Width="*"/>
                <DataGridTextColumn Header="Tweak" Binding="{Binding TweakName}" Width="2*"/>
                <DataGridCheckBoxColumn Header="Success" Binding="{Binding Success}" Width="80"/>
                <DataGridTextColumn Header="Error" Binding="{Binding Error}" Width="2*"/>
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</Window>
